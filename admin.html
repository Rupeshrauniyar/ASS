<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Adarsha Secondary School | Admin</title>
 <link rel="stylesheet" href="admin.css">
  <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css"
    rel="stylesheet"
/>
</head>
<body>
 
<div class="addDiv">
 <h3>Your Data Has Been Added Successfully!</h3><br>
<button id="addOk">Ok</button>
</div>

<div class="deleteDiv">
 <h3>Your Data Has Been Deleted Successfully!</h3><br>
<button id="deleteOk">Ok</button>
</div>

<div class="saveDiv">
 <h3>Changes Has Taken Successfully!</h3><br>
<button id="saveOk">Ok</button>
</div>

<main>
 
 
 <div class="container">
  
  <form>
  <i class="ri-user-line" id="inpIcon"></i>
   <input type="name" id="Inpname" placeholder="Enter Student's Full Name" required><br>
  <i class="ri-community-line" id="inpIcon"></i>
   <input type="text" id="Inpgrade" placeholder="Enter Student's Grade"><br>
   <i class="ri-list-ordered-2" id="inpIcon"></i>
   <input type="number" id="InpRollno" placeholder="Enter Student's Roll No"><br>
   <input type="text" id="Inpsection" placeholder="Enter Student's Section"><br>
   <i class="ri-id-card-line" id="inpIcon"></i>
   <input type="number" id="InpstudentId" placeholder="Enter Student's Id No"><br>
      
  <h3>ENGLISH</h3>
<p>Credit Hour:<select id="englishCreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="englishTH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="englishIN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="englishGrade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>


<p>Gtade Point:<select id="englishGradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="englishRemarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>


<h3>Nepali</h3>
<p>Credit Hour:<select id="nepaliCreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="nepaliTH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="nepaliIN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="nepaliGrade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade Point:<select id="nepaliGradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="nepaliRemarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>









<h3>MATHEMATICS</h3>
<p>Credit Hour:<select id="mathCreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="mathTH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="mathIN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="mathGrade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade Point:<select id="mathGradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="mathRemarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>

<h3>SCIENCE & TECHNOLOGY</h3>
<p>Credit Hour:<select id="scienceCreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="scienceTH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="scienceIN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="scienceGrade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade Point:<select id="scienceGradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="scienceRemarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>

<h3>SOCIAL STUDIES</h3>
<p>Credit Hour:<select id="socialCreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="socialTH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="socialIN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="socialGrade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade Point:<select id="socialGradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="socialRemarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>

<h3>Optional Subject 1</h3>
<p>Credit Hour:<select id="opt1CreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="opt1TH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="opt1IN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="opt1Grade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade Point:<select id="opt1GradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="opt1Remarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>

<h3>Optional Subject 2</h3>
<p>Credit Hour:<select id="opt2CreditHour">
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select></p>

<p>TH:<select id="opt2TH">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>IN:<select id="opt2IN">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade:<select id="opt2Grade">
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select></p>

<p>Grade Point:<select id="opt2GradePoint">
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select></p>

<p>Remarks:<select id="opt2Remarks">
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select></p><br>

   
   <button type="submit" value="Add" id="submit">Add <i class="ri-add-large-line"></i></button>
  </form>
 </div> 
</main>

<main id="main">
 <nav>
  <div class="navbar">
   <i class="ri-search-2-line" id="icon"></i>
   <input type="search" placeholder="Enter Your Name,Grade Or ID." id="search">
  </div>
 </nav>
 
 <div class="stdCont">
  <div class="displayer">
   <h3 id="Disname">Student Name</h3>
   <h3 id="Disgrade" class="disGrade">Grade</h3>
   <h3 id="DisrollNo">Roll No</h3>
   <h3 id="Dissection" class="disSection">Section</h3> 
   <h3 id="Disid" class="disId">ID</h3> 
  </div>
  <div class="studentDets"></div>
 </div>
</main>

<script type="module">
  // Import Firebase modules
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js";
  import { getFirestore, addDoc, collection, getDocs, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore.js";
import { deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyD8weZ1zwf5AKly19uIIlDX2HJjMl7pqsA",
    authDomain: "adarsha-secondary-school-e526d.firebaseapp.com",
    projectId: "adarsha-secondary-school-e526d",
    storageBucket: "adarsha-secondary-school-e526d.appspot.com",
    messagingSenderId: "134007763506",
    appId: "1:134007763506:web:5dc29472d2e6654b73422b"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);
  
  // Reference to Firestore collection
  const studentsCollection = collection(db, "Students");

  
  
const fetchData = async () => {
  const querySnapshot = await getDocs(studentsCollection);
  const studentDets = document.querySelector(".studentDets");
  let clutter = "";
  let editorFill ="";
  querySnapshot.forEach((doc) => {
    const docId = doc.id; 
 
    clutter += `
     
    <div class="mainCont">
    <div class="cont">
      <h3 id="name">${doc.data().Name}</h3>
      <h3 id="grade">${doc.data().Grade}</h3>
      <h3 id="rollNo">${doc.data().RollNo}</h3>
      <h3 id="section">${doc.data().Section}</h3> 
      <h3 id="id">${doc.data().StudentId}</h3>
   
    </div>
    <div class="dropDown">
    <button class="delete" data-docid="${docId}" id="button">Delete <i class="ri-delete-bin-6-line"></i></button>
    <button class="edit" data-docid="${docId}" id="button">Edit <i class="ri-pencil-fill"></i></button>
    </div>
   
   <div class="management">
    <div class="buttonCont">
    
    <button id="closeBtn"><i class="ri-close-large-fill" id="close"></i></button><br><br></div>
    <input type="name" id="editName${docId}" placeholder="Enter Student's Full Name" required><br>
    <input type="text" id="editGrade${docId}" placeholder="Enter Student's Grade"><br>
    <input type="number" id="editRollno${docId}" placeholder="Enter Student's Roll No"><br>
    <input type="text" id="editSection${docId}" placeholder="Enter Student's Section"><br>
    <input type="number" id="editStudentId${docId}" placeholder="Enter Student's Id No"><br><br>
<h3>ENGLISH</h3>

<select id="englishCreditHour${docId}">
  <option id="englishCreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>

<select id="englishTH${docId}">
  <option id="englishTHOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="englishIN${docId}">
  <option id="englishINOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="englishGrade${docId}">
  <option id="englishGradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>



<select id="englishGradePoint${docId}">
  <option id="englishGradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="englishRemarks${docId}">
  <option id="englishRemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select>
<h3>NEPALI</h3>
<select id="nepaliCreditHour${docId}">
  <option id="nepaliCreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>

<select id="nepaliTH${docId}">
  <option id="nepaliTHOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="nepaliIN${docId}">
  <option id="nepaliINOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="nepaliGrade${docId}">
  <option id="nepaliGradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="nepaliGradePoint${docId}">
  <option id="nepaliGradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="nepaliRemarks${docId}">
  <option id="nepaliRemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select>
<h3>MATHEMATICS</h3>
<select id="mathCreditHour${docId}">
 <option id="mathCreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>

<select id="mathTH${docId}">
  <option id="mathTHOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="mathIN${docId}">
  <option id="mathINOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="mathGrade${docId}">
  <option id="mathGradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="mathGradePoint${docId}">
  <option id="mathGradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="mathRemarks${docId}">
  <option id="mathRemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select>
<h3>SCIENCE & TECHNOLOGY</h3>
<select id="scienceCreditHour${docId}">
  <option id="scienceCreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>

<select id="scienceTH${docId}">
  <option id="scienceTHOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="scienceIN${docId}">
  <option id="scienceINOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="scienceGrade${docId}">
  <option id="scienceGradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="scienceGradePoint${docId}">
  <option id="scienceGradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="scienceRemarks${docId}">
  <option id="scienceRemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select>

<h3>SOCIAL STUDIES</h3>
<select id="socialCreditHour${docId}">
  <option id="socialCreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>

<select id="socialTH${docId}">
 <option id="socialTHOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="socialIN${docId}">
  <option id="socialINOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="socialGrade${docId}">
  <option id="socialGradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="socialGradePoint${docId}">
  <option id="socialGradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="socialRemarks${docId}">
  <option id="socialRemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select>

<h3>OPT-I MATHEMATICS</h3>

<select id="opt1CreditHour${docId}">
  <option id="opt1CreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>




<select id="opt1TH${docId}">
  <option id="opt1THOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="opt1IN${docId}">
  <option id="opt1INOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="opt1Grade${docId}">
  <option id="opt1GradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="opt1GradePoint${docId}">
  <option id="opt1GradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="opt1Remarks${docId}">
  <option id="opt1RemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select>

<h3>OPT-II</h3>
<select id="opt2CreditHour${docId}">
  <option id="opt2CreditOption${docId}"></option>
  <option>1</option>
  <option>2</option>
  <option>3</option>
  <option>4</option>
  <option>5</option>
  <option>6</option>
  <option>7</option>
  <option>8</option>
</select>


<select id="opt2TH${docId}">
  <option id="opt2THOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="opt2IN${docId}">
  <option id="opt2INOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="opt2Grade${docId}">
  <option id="opt2GradeOption${docId}"></option>
  <option>A+</option>
  <option>A</option>
  <option>B+</option>
  <option>B</option>
  <option>C+</option>
  <option>C</option>
  <option>D</option>
  <option>NG</option>
</select>

<select id="opt2GradePoint${docId}">
  <option id="opt2GradePointOption${docId}"></option>
  <option>4.0</option>
  <option>3.6</option>
  <option>3.2</option>
  <option>2.8</option>
  <option>2.4</option>
  <option>2.0</option>
  <option>1.6</option>
  <option>0</option>
</select>

<select id="opt2Remarks${docId}">
  <option id="opt2RemarksOption${docId}"></option>
  <option>Outstanding</option>
  <option>Excellent</option>
  <option>Very Good</option>
  <option>Good</option>
  <option>Satisfactory</option>
  <option>Acceptable</option>
  <option>Basic</option>
  <option>Not Graded</option>
</select><br><br>




    <button class="save" data-docid="${docId}" id="save">Save <i class="ri-save-2-fill"></i></button>
    </div>
    </div>`; 
  });
  
  studentDets.innerHTML = clutter;
const setupSearch = () => {
    const searchInput = document.getElementById('search');
    const contElements = document.querySelectorAll('.mainCont');

    searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();

        contElements.forEach(function(contElement) {
            const name = contElement.querySelector('#name').textContent.toLowerCase();
            const id = contElement.querySelector('#id').textContent.toLowerCase();
            const grade = contElement.querySelector('#grade').textContent.toLowerCase();

            if (name.includes(searchTerm) || id.includes(searchTerm) || grade.includes(searchTerm)) {
                contElement.style.display = 'block';
            } else {
                contElement.style.display = 'none';
            }
        });
    });
};





setupSearch();
const managements = document.querySelectorAll(".management")
var closes = document.querySelectorAll("#close");
closes.forEach(close => {
 close.addEventListener("click",function(){
  managements.forEach(management => {
 management.style.display="none" 
 })
 })
})


  const deletes = document.querySelectorAll(".delete");
  deletes.forEach((deleteButton) => {
    deleteButton.addEventListener('click', async function() {
      const docId = this.getAttribute("data-docid"); 
      try {
        await deleteDoc(doc(db, "Students", docId)); 
getDocs(studentsCollection);
fetchData()

  var deleteDiv = document.querySelector(".deleteDiv")
  deleteDiv.style.display="flex";
  var deleteOk = document.querySelector("#deleteOk").addEventListener("click",function(){
   deleteDiv.style.display="none"
   
  })
  
  document.addEventListener("click",function(){
   deleteDiv.style.display="none"
  })
  
        
      } catch (error) {
        console.error("Error deleting document: ", error);
        
      }
    });
  });

 const edits = document.querySelectorAll(".edit");

edits.forEach((editButton, index) => {
  editButton.addEventListener('click', async function() {
    managements.forEach((management, i) => {
      if (index === i) {
        management.style.display = "block";
      } else {
        management.style.display = "none";
      }
    });
 

 
    const docId = this.getAttribute("data-docid");
    try {
      const docRef = doc(db, "Students", docId);
      const docSnapshot = await getDoc(docRef);
      if (docSnapshot.exists()) {
        const data = docSnapshot.data();
        
        // Display values from the database in the edit select options
        document.querySelector(`#editName${docId}`).value = data.Name;
        document.querySelector(`#editGrade${docId}`).value = data.Grade;
        document.querySelector(`#editRollno${docId}`).value = data.RollNo;
        document.querySelector(`#editSection${docId}`).value = data.Section;
        document.querySelector(`#editStudentId${docId}`).value = data.StudentId;

document.querySelector(`#englishCreditOption${docId}`).textContent = 
data.Subject.English.EnglishCredit
document.querySelector(`#englishTHOption${docId}`).textContent = 
data.Subject.English.EnglishTH
document.querySelector(`#englishINOption${docId}`).textContent = 
data.Subject.English.EnglishIN
document.querySelector(`#englishGradeOption${docId}`).textContent = 
data.Subject.English.EnglishGrade  
document.querySelector(`#englishGradePointOption${docId}`).textContent = 
data.Subject.English.EnglishGradePoint  
document.querySelector(`#englishRemarksOption${docId}`).textContent = 
data.Subject.English.EnglishRemarks   



document.querySelector(`#nepaliCreditOption${docId}`).textContent = data.Subject.Nepali.NepaliCredit;
document.querySelector(`#nepaliTHOption${docId}`).textContent = data.Subject.Nepali.NepaliTH;
document.querySelector(`#nepaliINOption${docId}`).textContent = data.Subject.Nepali.NepaliIN;
document.querySelector(`#nepaliGradeOption${docId}`).textContent = data.Subject.Nepali.NepaliGrade;
document.querySelector(`#nepaliGradePointOption${docId}`).textContent = data.Subject.Nepali.NepaliGradePoint;
document.querySelector(`#nepaliRemarksOption${docId}`).textContent = data.Subject.Nepali.NepaliRemarks;
          

// Math
document.querySelector(`#mathCreditOption${docId}`).textContent = data.Subject.Math.MathCredit;
document.querySelector(`#mathTHOption${docId}`).textContent = data.Subject.Math.MathTH;
document.querySelector(`#mathINOption${docId}`).textContent = data.Subject.Math.MathIN;
document.querySelector(`#mathGradeOption${docId}`).textContent = data.Subject.Math.MathGrade;
document.querySelector(`#mathGradePointOption${docId}`).textContent = data.Subject.Math.MathGradePoint;
document.querySelector(`#mathRemarksOption${docId}`).textContent = data.Subject.Math.MathRemarks;

// Science
document.querySelector(`#scienceCreditOption${docId}`).textContent = data.Subject.Science.ScienceCredit;
document.querySelector(`#scienceTHOption${docId}`).textContent = data.Subject.Science.ScienceTH;
document.querySelector(`#scienceINOption${docId}`).textContent = data.Subject.Science.ScienceIN;
document.querySelector(`#scienceGradeOption${docId}`).textContent = data.Subject.Science.ScienceGrade;
document.querySelector(`#scienceGradePointOption${docId}`).textContent = data.Subject.Science.ScienceGradePoint;
document.querySelector(`#scienceRemarksOption${docId}`).textContent = data.Subject.Science.ScienceRemarks;

// Social Studies
document.querySelector(`#socialCreditOption${docId}`).textContent = data.Subject.Social.SocialCredit;
document.querySelector(`#socialTHOption${docId}`).textContent = data.Subject.Social.SocialTH;
document.querySelector(`#socialINOption${docId}`).textContent = data.Subject.Social.SocialIN;
document.querySelector(`#socialGradeOption${docId}`).textContent = data.Subject.Social.SocialGrade;
document.querySelector(`#socialGradePointOption${docId}`).textContent = data.Subject.Social.SocialGradePoint;
document.querySelector(`#socialRemarksOption${docId}`).textContent = data.Subject.Social.SocialRemarks;

// Opt-I
document.querySelector(`#opt1CreditOption${docId}`).textContent = data.Subject.Opt1.Opt1Credit;
document.querySelector(`#opt1THOption${docId}`).textContent = data.Subject.Opt1.Opt1TH;
document.querySelector(`#opt1INOption${docId}`).textContent = data.Subject.Opt1.Opt1IN;
document.querySelector(`#opt1GradeOption${docId}`).textContent = data.Subject.Opt1.Opt1Grade;
document.querySelector(`#opt1GradePointOption${docId}`).textContent = data.Subject.Opt1.Opt1GradePoint;
document.querySelector(`#opt1RemarksOption${docId}`).textContent = data.Subject.Opt1.Opt1Remarks;

// Opt-II
document.querySelector(`#opt2CreditOption${docId}`).textContent = data.Subject.Opt2.Opt2Credit;
document.querySelector(`#opt2THOption${docId}`).textContent = data.Subject.Opt2.Opt2TH;
document.querySelector(`#opt2INOption${docId}`).textContent = data.Subject.Opt2.Opt2IN;
document.querySelector(`#opt2GradeOption${docId}`).textContent = data.Subject.Opt2.Opt2Grade;
document.querySelector(`#opt2GradePointOption${docId}`).textContent = data.Subject.Opt2.Opt2GradePoint;
document.querySelector(`#opt2RemarksOption${docId}`).textContent = data.Subject.Opt2.Opt2Remarks;


      } 
    } catch (error) {
      console.error("Error fetching document for editing: ", error);
    }
  });
}); 


  const saves = document.querySelectorAll(".save");
  saves.forEach((saveButton) => {
    saveButton.addEventListener('click', async function() {
     fetchData()
      
      
   var saveDiv = document.querySelector(".saveDiv")
  saveDiv.style.display="flex";
  var saveOk = document.querySelector("#saveOk").addEventListener("click",function(){
   saveDiv.style.display="none"
  })
  
  
      const docId = this.getAttribute("data-docid");
      const updatedData = {
        Name: document.querySelector(`#editName${docId}`).value,
        Grade: document.querySelector(`#editGrade${docId}`).value,
        RollNo: document.querySelector(`#editRollno${docId}`).value,
        Section: document.querySelector(`#editSection${docId}`).value,
        StudentId: document.querySelector(`#editStudentId${docId}`).value,
        Subject:{
English: {
    EnglishCredit: document.querySelector(`#englishCreditHour${docId}`).value,
    EnglishTH: document.querySelector(`#englishTH${docId}`).value,
    EnglishIN: document.querySelector(`#englishIN${docId}`).value,
    EnglishGrade: document.querySelector(`#englishGrade${docId}`).value,
    EnglishGradePoint: document.querySelector(`#englishGradePoint${docId}`).value,
    EnglishRemarks: document.querySelector(`#englishRemarks${docId}`).value
  },
Nepali: {
    NepaliCredit: document.querySelector(`#nepaliCreditHour${docId}`).value,
    NepaliTH: document.querySelector(`#nepaliTH${docId}`).value,
    NepaliIN: document.querySelector(`#nepaliIN${docId}`).value,
    NepaliGrade: document.querySelector(`#nepaliGrade${docId}`).value,
    NepaliGradePoint: document.querySelector(`#nepaliGradePoint${docId}`).value,
    NepaliRemarks: document.querySelector(`#nepaliRemarks${docId}`).value
  },
Math: {
    MathCredit: document.querySelector(`#mathCreditHour${docId}`).value,
    MathTH: document.querySelector(`#mathTH${docId}`).value,
    MathIN: document.querySelector(`#mathIN${docId}`).value,
    MathGrade: document.querySelector(`#mathGrade${docId}`).value,
    MathGradePoint: document.querySelector(`#mathGradePoint${docId}`).value,
    MathRemarks: document.querySelector(`#mathRemarks${docId}`).value
  },
Science: {
    ScienceCredit: document.querySelector(`#scienceCreditHour${docId}`).value,
    ScienceTH: document.querySelector(`#scienceTH${docId}`).value,
    ScienceIN: document.querySelector(`#scienceIN${docId}`).value,
    ScienceGrade: document.querySelector(`#scienceGrade${docId}`).value,
    ScienceGradePoint: document.querySelector(`#scienceGradePoint${docId}`).value,
    ScienceRemarks: document.querySelector(`#scienceRemarks${docId}`).value
  },
Social: {
    SocialCredit: document.querySelector(`#socialCreditHour${docId}`).value,
    SocialTH: document.querySelector(`#socialTH${docId}`).value,
    SocialIN: document.querySelector(`#socialIN${docId}`).value,
    SocialGrade: document.querySelector(`#socialGrade${docId}`).value,
    SocialGradePoint: document.querySelector(`#socialGradePoint${docId}`).value,
    SocialRemarks: document.querySelector(`#socialRemarks${docId}`).value
  },
Opt1: {
    Opt1Credit: document.querySelector(`#opt1CreditHour${docId}`).value,
    Opt1TH: document.querySelector(`#opt1TH${docId}`).value,
    Opt1IN: document.querySelector(`#opt1IN${docId}`).value,
    Opt1Grade: document.querySelector(`#opt1Grade${docId}`).value,
    Opt1GradePoint: document.querySelector(`#opt1GradePoint${docId}`).value,
    Opt1Remarks: document.querySelector(`#opt1Remarks${docId}`).value
  },
Opt2: {
    Opt2Credit: document.querySelector(`#opt2CreditHour${docId}`).value,
    Opt2TH: document.querySelector(`#opt2TH${docId}`).value,
    Opt2IN: document.querySelector(`#opt2IN${docId}`).value,
    Opt2Grade: document.querySelector(`#opt2Grade${docId}`).value,
    Opt2GradePoint: document.querySelector(`#opt2GradePoint${docId}`).value,
    Opt2Remarks: document.querySelector(`#opt2Remarks${docId}`).value,
    },
    },
      };
      try {
        await updateDoc(doc(db, "Students", docId), updatedData); // Update the document
        
      } catch (error) {
        console.error("Error updating document: ", error);
        
      }
    });
  });
};





document.addEventListener("DOMContentLoaded", fetchData);
 
 
var addOk= document.querySelector("#addOk").addEventListener("click",function(){
   addDiv.style.display="none"
  })
  
  

  var addDiv = document.querySelector(".addDiv")
  const submitButton = document.querySelector('#submit');
  submitButton.addEventListener('click', async function(e) {
   addDiv.style.display="flex"; 

    e.preventDefault();

  
  
  
    const name = document.querySelector('#Inpname').value;
    const grade = document.querySelector('#Inpgrade').value;
    const rollNo = document.querySelector('#InpRollno').value;
    const section = document.querySelector('#Inpsection').value;
    const studentId = document.querySelector('#InpstudentId').value;

var englishCredit = document.querySelector("#englishCreditHour").value
var englishTH = document.querySelector("#englishTH").value
var englishIN = document.querySelector("#englishIN").value
var englishGrade = document.querySelector("#englishGrade").value;
var englishGradePoint = document.querySelector("#englishGradePoint").value;
var englishRemarks = document.querySelector("#englishRemarks").value;

var nepaliCredit = document.querySelector("#nepaliCreditHour").value;
var nepaliTH = document.querySelector("#nepaliTH").value;
var nepaliIN = document.querySelector("#nepaliIN").value;
var nepaliGrade = document.querySelector("#nepaliGrade").value;
var nepaliGradePoint = document.querySelector("#nepaliGradePoint").value;
var nepaliRemarks = document.querySelector("#nepaliRemarks").value;

var mathCredit = document.querySelector("#mathCreditHour").value;
var mathTH = document.querySelector("#mathTH").value;
var mathIN = document.querySelector("#mathIN").value;
var mathGrade = document.querySelector("#mathGrade").value;
var mathGradePoint = document.querySelector("#mathGradePoint").value;
var mathRemarks = document.querySelector("#mathRemarks").value;

var scienceCredit = document.querySelector("#scienceCreditHour").value;
var scienceTH = document.querySelector("#scienceTH").value;
var scienceIN = document.querySelector("#scienceIN").value;
var scienceGrade = document.querySelector("#scienceGrade").value;
var scienceGradePoint = document.querySelector("#scienceGradePoint").value;
var scienceRemarks = document.querySelector("#scienceRemarks").value;

var socialCredit = document.querySelector("#socialCreditHour").value;
var socialTH = document.querySelector("#socialTH").value;
var socialIN = document.querySelector("#socialIN").value;
var socialGrade = document.querySelector("#socialGrade").value;
var socialGradePoint = document.querySelector("#socialGradePoint").value;
var socialRemarks = document.querySelector("#socialRemarks").value;

var opt1Credit = document.querySelector("#opt1CreditHour").value;
var opt1TH = document.querySelector("#opt1TH").value;
var opt1IN = document.querySelector("#opt1IN").value;
var opt1Grade = document.querySelector("#opt1Grade").value;
var opt1GradePoint = document.querySelector("#opt1GradePoint").value;
var opt1Remarks = document.querySelector("#opt1Remarks").value;

var opt2Credit = document.querySelector("#opt2CreditHour").value;
var opt2TH = document.querySelector("#opt2TH").value;
var opt2IN = document.querySelector("#opt2IN").value;
var opt2Grade = document.querySelector("#opt2Grade").value;
var opt2GradePoint = document.querySelector("#opt2GradePoint").value;
var opt2Remarks = document.querySelector("#opt2Remarks").value;

    // Add data to Firestore
    await addDoc(collection(db, "Students"), {
      Name: name,
      Grade: grade,
      RollNo: rollNo,
      Section: section,
      StudentId: studentId,
     Subject:{
English:{
    EnglishCredit: englishCredit,
    EnglishTH: englishTH,
    EnglishIN: englishIN,
    EnglishGrade: englishGrade,
    EnglishGradePoint: englishGradePoint,
    EnglishRemarks: englishRemarks
},

Nepali:{
    NepaliCredit: nepaliCredit,
    NepaliTH: nepaliTH,
    NepaliIN: nepaliIN,
    NepaliGrade: nepaliGrade,
    NepaliGradePoint: nepaliGradePoint,
    NepaliRemarks: nepaliRemarks
},

Math:{
    MathCredit: mathCredit,
    MathTH: mathTH,
    MathIN: mathIN,
    MathGrade: mathGrade,
    MathGradePoint: mathGradePoint,
    MathRemarks: mathRemarks
},

Science:{
    ScienceCredit: scienceCredit,
    ScienceTH: scienceTH,
    ScienceIN: scienceIN,
    ScienceGrade: scienceGrade,
    ScienceGradePoint: scienceGradePoint,
    ScienceRemarks: scienceRemarks
},

Social:{
    SocialCredit: socialCredit,
    SocialTH: socialTH,
    SocialIN: socialIN,
    SocialGrade: socialGrade,
    SocialGradePoint: socialGradePoint,
    SocialRemarks: socialRemarks
},

Opt1:{
    Opt1Credit: opt1Credit,
    Opt1TH: opt1TH,
    Opt1IN: opt1IN,
    Opt1Grade: opt1Grade,
    Opt1GradePoint: opt1GradePoint,
    Opt1Remarks: opt1Remarks
},

Opt2:{
    Opt2Credit: opt2Credit,
    Opt2TH: opt2TH,
    Opt2IN: opt2IN,
    Opt2Grade: opt2Grade,
    Opt2GradePoint: opt2GradePoint,
    Opt2Remarks: opt2Remarks
},
}
})
    

 setupSearch();  
    await fetchData();
  });




</script>
<script src="admin.js"></script>
</body>
</html>
